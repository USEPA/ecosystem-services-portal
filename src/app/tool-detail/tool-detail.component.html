<ng-template [ngIf]="task" [ngIfElse]="noSelection">
  <div>
    Your Selections:<br>
      <a [routerLink]="['/paths']">{{ path.name }}</a> >
      <a [routerLink]="['/paths', path.slug, 'steps']">{{ step.name }}</a> >
      <a [routerLink]="['/paths', path.slug, 'steps','tasks']"> {{ task.name }}</a> >
      {{tool.short_name}}
  </div>
</ng-template>
<ng-template #noSelection>
  <h2>{{tool.short_name}}</h2>
</ng-template>

<div class="grid-row margin-top-6">
  <div class="grid-col-12" [innerHTML]="tool.description"></div>
</div>

<div class="margin-top-3">
  <div class="grid-row grid-gap">
    <div class="grid-col-6">
      <mat-accordion multi="true">
        <div *ngFor="let pathStep of this.pathSteps">
          <mat-expansion-panel [expanded]="pathStep.id == path.id">
            <mat-expansion-panel-header>Steps in {{pathStep.name}} this Tool is Suited for
            </mat-expansion-panel-header>
            <div *ngFor="let step of pathStep.related_steps; let i = index">
              <span class="text-green">
                <svg class="usa-icon" aria-hidden="true" role="img">
                  <use xlink:href="/assets/sprite.svg#check_circle"></use>
                </svg>
              </span>
              {{step}}
            </div>
          </mat-expansion-panel>
        </div>
      </mat-accordion>
    </div>
    <div class="grid-col-6" style="text-align: center">
      <a href="{{tool.url}}" target="_blank"><img src="{{'/assets/images/' + tool.image_file}}"
                                                  alt="{{tool.name}}"></a>
    </div>
  </div>
  <div class="grid-row margin-top-3" [innerHTML]="toolDetails"></div>
</div>
<button class="usa-button margin-top-3"  [routerLink]="['/paths', path.slug, 'steps','tasks']">< Return To Decision Path</button>
