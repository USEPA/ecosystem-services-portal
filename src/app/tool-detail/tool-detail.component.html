<ng-template [ngIf]="task" [ngIfElse]="noSelection">
  <div>
    Your Selections:<br>
    <a [routerLink]="['/paths']" [innerHTML]="path.name"></a> >
    <a [routerLink]="['/paths', path.slug, 'steps']" [innerHTML]="step.name"></a> >
    <a [routerLink]="['/paths', path.slug, 'steps','tasks']" [innerHTML]="task.name"></a> >
    <span [innerHTML]="tool.short_name"></span>
  </div>
</ng-template>
<ng-template #noSelection>
  <h2>{{tool.short_name}}</h2>
</ng-template>

<div class="grid-row margin-top-6">
  <div class="grid-col-12" [innerHTML]="tool.description"></div>
</div>

<div class="margin-top-3">
  <div class="grid-row grid-gap">
    <div class="grid-col-6">
      <mat-accordion multi="true">
        <div *ngFor="let pathStep of this.pathSteps">
          <ng-container *ngIf="pathStep.related_steps.length > 0">
          <mat-expansion-panel [expanded]="path && pathStep.id === path.id">
            <mat-expansion-panel-header>Steps in {{pathStep.name}} this Tool is Suited for
            </mat-expansion-panel-header>
            <div *ngFor="let step of pathStep.related_steps; let i = index">
              <span class="text-green">
                <svg class="usa-icon" aria-hidden="true" role="img">
                  <use xlink:href="/assets/sprite.svg#check_circle"></use>
                </svg>
              </span>
              {{step}}
            </div>
          </mat-expansion-panel>
          </ng-container>
        </div>
      </mat-accordion>
    </div>
    <div class="grid-col-6" style="text-align: center">
      <a href="{{tool.url}}" target="_blank"><img src="{{'/assets/images/' + tool.image_file}}"
                                                  alt="{{tool.name}}"></a>
    </div>
  </div>
  <div class="grid-row margin-top-3" [innerHTML]="toolDetails"></div>
</div>

<ng-template [ngIf]="path" [ngIfElse]="noPathSelection">
  <button class="usa-button margin-top-3" [routerLink]="['/paths', path.slug, 'steps','tasks']">
    < Return To Decision Path
  </button>
</ng-template>
<ng-template #noPathSelection>
  <button class="usa-button margin-top-3" [routerLink]="['/paths']">
    < Return To Decision Path
  </button>
</ng-template>
